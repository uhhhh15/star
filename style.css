/* public/extensions/third-party/star/style.css */

/* 收藏夹弹窗样式 */
.favorites-popup-content {
    /* padding: 10px; */ /* 在 index.js 的 <style> 中已定义 (Already defined in <style> in index.js) */
    /* max-height: 70vh; */ /* 在 index.js 的 <style> 中已定义 */
    /* overflow-y: auto; */ /* 在 index.js 的 <style> 中已定义 */
}

/* --- 新增：收藏夹弹窗头部样式 (与 index.js 中 <style> 标签内对应) --- */
/* 这些规则确保标题和按钮（预览、导出）在弹窗顶部良好对齐 */
.favorites-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 10px;
    flex-wrap: wrap;
    gap: 10px;
    margin-bottom: 10px;
}
.favorites-header h3 {
     margin: 0;
     flex-grow: 1;
     text-align: left;
     white-space: nowrap;
     overflow: hidden;
     text-overflow: ellipsis;
     min-width: 0;
}
.favorites-header .favorites-header-buttons {
     display: flex;
     gap: 8px;
     flex-shrink: 0;
     position: relative; /* 为了导出下拉菜单定位 (For export dropdown positioning) */
}
/* --- 头部样式结束 --- */
/* --- End of header styles --- */


.favorites-divider {
    height: 1px;
    background-color: var(--SmartThemeBorderColor, #ccc);
    margin: 10px 0;
}

.favorites-list {
    margin: 10px 0;
}

.favorites-empty {
    text-align: center;
    color: var(--SmartThemeFgMuted, #888);
    padding: 20px;
}

.favorite-item {
    border: 1px solid var(--SmartThemeBorderColor, #444);
    border-radius: 8px;
    margin-bottom: 10px;
    padding: 10px;
    background-color: rgba(0, 0, 0, 0.2);
    position: relative;
}

.fav-meta {
    font-size: 0.8em;
    color: #aaa;
    margin-bottom: 5px;
    text-align: right;
    flex-grow: 1;
    min-width: 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.fav-note {
    background-color: rgba(255, 255, 0, 0.1);
    padding: 5px 8px;
    border-left: 3px solid #ffcc00;
    margin-bottom: 8px;
    font-style: italic;
    font-size: 0.9em;
    word-wrap: break-word;
}

.fav-preview {
    margin-bottom: 8px;
    line-height: 1.4;
    max-height: 200px;
    overflow-y: auto;
    word-wrap: break-word;
    white-space: pre-wrap;
    background-color: rgba(255, 255, 255, 0.05);
    padding: 5px 8px;
    border-radius: 4px;
}

.fav-preview.deleted {
    color: #ff3a3a;
    font-style: italic;
    background-color: rgba(255, 58, 58, 0.1);
    max-height: 200px;
    overflow-y: auto;
    word-wrap: break-word;
    white-space: pre-wrap;
}

.fav-preview pre {
    display: block;
    width: 100%;
    box-sizing: border-box;
    overflow-x: auto;
    white-space: pre;
    background-color: rgba(0, 0, 0, 0.3);
    padding: 10px;
    border-radius: 4px;
    margin-top: 5px;
    margin-bottom: 5px;
    font-family: monospace;
}


.fav-actions {
    text-align: right;
}

.fav-actions i {
    cursor: pointer;
    margin-left: 10px;
    padding: 5px;
    border-radius: 50%;
    transition: background-color 0.2s;
    font-size: 1.1em;
    vertical-align: middle;
}

.fav-actions i:hover {
    background-color: rgba(255, 255, 255, 0.1);
}

.fav-actions .fa-pencil {
    color: var(--SmartThemeLinkColor, #3a87ff);
}

.fav-actions .fa-trash {
    color: var(--SmartThemeDangerColor, #ff3a3a);
}

/* 新增：截图图标样式 */
/* New: Screenshot icon styles */
.fav-actions .favorite-screenshot-icon {
    color: var(--SmartThemeInfoColor, #4caeff); /* 使用主题信息色或备用蓝色 (Use theme info color or fallback blue) */
}
.fav-actions .favorite-screenshot-icon-disabled {
    color: #777; /* 灰色表示禁用 (Gray for disabled) */
    cursor: not-allowed;
}
.fav-actions .favorite-screenshot-icon:hover,
.fav-actions .fa-pencil:hover,
.fav-actions .fa-trash:hover {
    background-color: rgba(255, 255, 255, 0.15); /* 统一悬停效果 (Uniform hover effect) */
}


.favorites-pagination {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
    margin-top: 15px;
}

.favorites-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 15px;
    padding-top: 10px;
    border-top: 1px solid var(--SmartThemeBorderColor, #444);
}

.favorite-toggle-icon {
    cursor: pointer;
}

.favorite-toggle-icon i.fa-regular {
    color: var(--SmartThemeIconColorMuted, #999);
}

.favorite-toggle-icon i.fa-solid {
    color: var(--SmartThemeAccentColor, #ffcc00);
}

.fav-header-info {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
    margin-bottom: 8px;
    flex-wrap: wrap;
    gap: 10px;
}

.fav-send-date {
    font-size: 0.75em;
    color: #bbb;
    text-align: left;
    display: inline-flex;
    flex-shrink: 0;
    align-items: baseline;
    white-space: nowrap;
}

.fav-send-date .fav-mesid {
    margin-left: 8px;
    color: #999;
    font-size: 0.9em;
}

/* 返回预览按钮和新增的截取所有预览按钮的容器样式 */
.favorites-preview-controls {
    display: flex;
    justify-content: center; /* 居中对齐按钮 (Center align buttons) */
    align-items: center;
    gap: 10px; /* 按钮间距 (Gap between buttons) */
    margin: 15px auto; /* 上下边距，并水平居中容器 (Top/bottom margin, and horizontally center the container) */
    padding: 5px 0; /* 轻微的上下内边距 (Slight top/bottom padding) */
}

/* 确保预览控制区的按钮样式与之前返回按钮的独立样式一致或更好 */
.favorites-preview-controls .menu_button {
    width: auto; /* 根据内容调整宽度 (Adjust width based on content) */
    padding: 8px 15px; /* 舒适的内边距 (Comfortable padding) */
    /* 继承自 .menu_button 的其他样式，如背景、边框等 (Inherits other styles from .menu_button like background, border, etc.) */
}

/* 旧的 #favorites-return-button 独立样式可以保留作为备用，但优先使用 .favorites-preview-controls 内的统一样式 */
#favorites-return-button { /* 这是预览模式下的返回按钮 ID (This is the ID of the return button in preview mode) */
    /* display: block; */ /* 由 flex 容器控制 (Controlled by flex container) */
    /* width: fit-content; */
    /* margin: 15px auto; */ /* 由 flex 容器控制 */
    /* padding: 8px 15px; */ /* 移至 .favorites-preview-controls .menu_button (Moved to .favorites-preview-controls .menu_button) */
    background-color: var(--SmartThemeBtnBg);
    color: var(--SmartThemeBtnFg);
    border: 1px solid var(--SmartThemeBtnBorder);
    border-radius: 5px;
    cursor: pointer;
    text-align: center;
}
#favorites-return-button:hover {
    background-color: var(--SmartThemeBtnBgHover);
    color: var(--SmartThemeBtnFgHover);
    border-color: var(--SmartThemeBtnBorderHover);
}


.favorites-popup-content .menu_button {
    width: auto;
    padding: 5px 10px;
    font-size: 0.9em;
}

/* 导出下拉菜单的特定样式 (在 index.js 的 <style> 中也定义了) */
.favorites-export-dropdown {
    position: relative;
    display: inline-block;
}

#favorites-export-menu {
    display: none;
    position: absolute;
    top: 100%; /* 位于触发按钮下方 (Below the trigger button) */
    left: 0;   /* 与触发按钮左对齐 (Left-align with the trigger button) */
    background-color: var(--SmartThemeBodyBgDarker, #2a2a2e);
    border: 1px solid var(--SmartThemeBorderColor, #444);
    border-radius: 4px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.3);
    padding: 5px 0;
    margin: 2px 0 0 0;
    min-width: 180px; /* 确保足够宽度以容纳文本 (Ensure enough width for text) */
    z-index: 1050; /* 确保在其他弹窗元素之上 (Ensure it's above other popup elements) */
    list-style: none;
}

.favorites-export-item {
    padding: 8px 12px;
    cursor: pointer;
    color: var(--SmartThemeFg);
    font-size: 0.9em;
    white-space: nowrap; /* 防止菜单项换行 (Prevent menu items from wrapping) */
}

.favorites-export-item:hover {
    background-color: var(--SmartThemeHoverBg, rgba(255,255,255,0.1));
}
